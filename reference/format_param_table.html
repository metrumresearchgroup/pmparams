<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Format parameter table — format_param_table • pmparams</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Format parameter table — format_param_table"><meta property="og:description" content="Format parameter estimate values and output selected columns to be shown in
the parameter table.
There are four main steps of this function:
When necessary, back transform parameters and their CIs, round parameters using pmtables::sig, and combine columns.
Format the THETA/OMEGA/SIGMA values to display as greek letters in Latex, with subscript numbers, and where necessary, the transformation applied to that parameter.
Determine which panel of the final table the parameter should be displayed in. This is informed by the panel argument you defined in your parameter key. Note that there are a finite number of options included by default (see below) but you can include additional panels as needed.
Panel types include:


Residual variance
Interindividual covariance parameters
Interindividual variance parameters
Interoccasion variance parameters
Covariate effect parameters
Structural model parameters


Select columns for final tables.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pmparams</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://ghe.metrumrg.com/software-incubator/pmparams" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format parameter table</h1>
    <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/pmparams/blob/HEAD/R/format_param_table.R" class="external-link"><code>R/format_param_table.R</code></a></small>
    <div class="hidden name"><code>format_param_table.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Format parameter estimate values and output selected columns to be shown in
the parameter table.</p>
<p>There are four main steps of this function:</p><ol><li><p>When necessary, back transform parameters and their CIs, round parameters using pmtables::sig, and combine columns.</p></li>
<li><p>Format the THETA/OMEGA/SIGMA values to display as greek letters in Latex, with subscript numbers, and where necessary, the transformation applied to that parameter.</p></li>
<li><p>Determine which panel of the final table the parameter should be displayed in. This is informed by the panel argument you defined in your parameter key. Note that there are a finite number of options included by default (see below) but you can include additional panels as needed.
Panel types include:</p></li>
</ol><ul><li><p>Residual variance</p></li>
<li><p>Interindividual covariance parameters</p></li>
<li><p>Interindividual variance parameters</p></li>
<li><p>Interoccasion variance parameters</p></li>
<li><p>Covariate effect parameters</p></li>
<li><p>Structural model parameters</p></li>
</ul><ol><li><p>Select columns for final tables.</p></li>
</ol></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">format_param_table</span><span class="op">(</span></span>
<span>  <span class="va">.df</span>,</span>
<span>  .select_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"type"</span>, <span class="st">"abb"</span>, <span class="st">"greek"</span>, <span class="st">"desc"</span>, <span class="st">"value"</span>, <span class="st">"ci"</span>, <span class="st">"shrinkage"</span><span class="op">)</span>,</span>
<span>  .prse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .digit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pmparams.dig"</span><span class="op">)</span>,</span>
<span>  .maxex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pmparams.maxex"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.df</dt>
<dd><p>parameter estimates output from <code>define_param_table</code> with modifications ready for formatting</p></dd>


<dt>.select_cols</dt>
<dd><p>columns to select for output. Default selects "type", "abb", "greek", "desc", "value", "ci", "shrinkage". To return all columns, specify "all" for .select_cols</p></dd>


<dt>.prse</dt>
<dd><p>output pRSE. Default is FALSE</p></dd>


<dt>.digit</dt>
<dd><p>set significant digits for output (optional). Default is three digits</p></dd>


<dt>.maxex</dt>
<dd><p>set maxex for computation (optional). Default is NULL</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Using output from `define_param_table` (defineOut),</span></span></span>
<span class="r-in"><span><span class="va">paramEst</span> <span class="op">&lt;-</span> <span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"model/nonmem/param_est.csv"</span>, package <span class="op">=</span> <span class="st">"pmparams"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">paramKey</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"model/nonmem/pk-parameter-key-new.yaml"</span>, package <span class="op">=</span> <span class="st">"pmparams"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">defineOut</span> <span class="op">&lt;-</span> <span class="fu"><a href="define_param_table.html">define_param_table</a></span><span class="op">(</span>.estimates <span class="op">=</span> <span class="va">paramEst</span>, .key <span class="op">=</span> <span class="va">paramKey</span>, .ci <span class="op">=</span> <span class="fl">95</span>, .zscore <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Parameter table yaml path provided: /data/pmparams/inst/model/nonmem/pk-parameter-key-new.yaml"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">format_param_table</span><span class="op">(</span>.df <span class="op">=</span> <span class="va">defineOut</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                  type        abb                greek</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         Structural model parameters   KA (1/h) $\\exp(\\theta_{1})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         Structural model parameters   V2/F (L) $\\exp(\\theta_{2})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         Structural model parameters CL/F (L/h) $\\exp(\\theta_{3})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         Structural model parameters   V3/F (L) $\\exp(\\theta_{4})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         Structural model parameters  Q/F (L/h) $\\exp(\\theta_{5})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Interindividual variance parameters     IIV-KA    $\\Omega_{(1,1)}$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    desc              value           ci</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  First order absorption rate constant               1.54   1.36, 1.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2               Apparent central volume               61.5   58.2, 64.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                    Apparent clearance               3.05   2.86, 3.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            Apparent peripheral volume               67.4   64.9, 69.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Apparent intercompartmental clearance               3.62   3.38, 3.88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                Variance of absorption 0.221 [CV\\%=49.7] 0.117, 0.324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   shrinkage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      17.9</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#To include all columns:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">format_param_table</span><span class="op">(</span>.df <span class="op">=</span> <span class="va">defineOut</span>, .select_cols<span class="op">=</span><span class="st">"all"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   X.1 X  num2 estimate    stderr random_effect_sd random_effect_sdse fixed diag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1 1     1 0.433592 0.0628744               NA                 NA FALSE   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2 2     2 4.118760 0.0276273               NA                 NA FALSE   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3 3     3 1.115030 0.0328475               NA                 NA FALSE   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4 4     4 4.209910 0.0192485               NA                 NA FALSE   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5 5     5 1.286310 0.0354262               NA                 NA FALSE   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6 6 (1,1) 0.220606 0.0529799         0.469687          0.0563992 FALSE TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   shrinkage    name        abb                                  desc  panel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         -  THETA1   KA (1/h)  First order absorption rate constant struct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         -  THETA2   V2/F (L)               Apparent central volume struct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         -  THETA3 CL/F (L/h)                    Apparent clearance struct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         -  THETA4   V3/F (L)            Apparent peripheral volume struct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         -  THETA5  Q/F (L/h) Apparent intercompartmental clearance struct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      17.9 OMEGA11     IIV-KA                Variance of absorption    IIV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         trans transTHETA    TH    OM     S   LOG LOGIT lognormO   Osd logitOsd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    logTrans         NA  TRUE FALSE FALSE  TRUE FALSE    FALSE FALSE    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    logTrans         NA  TRUE FALSE FALSE  TRUE FALSE    FALSE FALSE    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    logTrans         NA  TRUE FALSE FALSE  TRUE FALSE    FALSE FALSE    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    logTrans         NA  TRUE FALSE FALSE  TRUE FALSE    FALSE FALSE    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    logTrans         NA  TRUE FALSE FALSE  TRUE FALSE    FALSE FALSE    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 lognormalOm         NA FALSE  TRUE FALSE FALSE FALSE     TRUE FALSE    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   propErr addErr              value        se corr_SD      lower      upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   FALSE  FALSE               1.54 0.0628744       -  1.3639135  1.7451244</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   FALSE  FALSE               61.5 0.0276273       - 58.2422183 64.9040164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   FALSE  FALSE               3.05 0.0328475       -  2.8595060  3.2524583</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   FALSE  FALSE               67.4 0.0192485       - 64.8568764 69.9399530</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   FALSE  FALSE               3.62 0.0354262       -  3.3766181  3.8796516</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   FALSE  FALSE 0.221 [CV\\%=49.7] 0.0529799       -  0.1167654  0.3244466</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cv pRSE           ci sd  text                greek</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    - 6.29   1.36, 1.75  - theta $\\exp(\\theta_{1})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    - 2.76   58.2, 64.9  - theta $\\exp(\\theta_{2})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    - 3.29   2.86, 3.25  - theta $\\exp(\\theta_{3})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    - 1.93   64.9, 69.9  - theta $\\exp(\\theta_{4})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    - 3.54   3.38, 3.88  - theta $\\exp(\\theta_{5})$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 49.7 24.0 0.117, 0.324  - Omega    $\\Omega_{(1,1)}$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                  type type_f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         Structural model parameters      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         Structural model parameters      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         Structural model parameters      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         Structural model parameters      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         Structural model parameters      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Interindividual variance parameters      3</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Katherine Kay, Michael McDermott, Grace O’Brien.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

