<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Making Bootstrap Parameter Tables • pmparams</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Making Bootstrap Parameter Tables">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pmparams</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-started.html">Getting Started with pmparams</a>
    </li>
    <li>
      <a href="../articles/making-bootstrap-parameter-tables.html">Making Bootstrap Parameter Tables</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/metrumresearchgroup/pmparams" class="external-link">
    <span class="fa fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Making Bootstrap Parameter Tables</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/pmparams/blob/HEAD/vignettes/making-bootstrap-parameter-tables.Rmd" class="external-link"><code>vignettes/making-bootstrap-parameter-tables.Rmd</code></a></small>
      <div class="hidden name"><code>making-bootstrap-parameter-tables.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is a vignette to help you become familiar with using
<code><a href="../reference/define_boot_table.html">define_boot_table()</a></code> and <code><a href="../reference/format_boot_table.html">format_boot_table()</a></code>.
For more information how to effectively integrate <code>pmparams</code>
into your workflow, visit the
<a href="https://merge.metrumrg.com/expo/expo1-nonmem-foce/posts/parameter-tables.html" target="_blank" class="external-link">
MeRGE Expo: Parameter Tables</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://metrumresearchgroup.github.io/pmparams/">pmparams</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://metrumresearchgroup.github.io/bbr" class="external-link">bbr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vubiostat/r-yaml/" class="external-link">yaml</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://metrumresearchgroup.github.io/pmtables" class="external-link">pmtables</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-requirements">Data requirements<a class="anchor" aria-label="anchor" href="#data-requirements"></a>
</h2>
<p>Before we get started, lets set some key variables we’ll use
throughout this tutorial, including the original <code>bbr</code> model
and the bootstrap run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Model Directory</span></span>
<span><span class="va">model_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"model/nonmem"</span>, package <span class="op">=</span> <span class="st">"pmparams"</span><span class="op">)</span></span>
<span><span class="co"># Parameter Key</span></span>
<span><span class="va">param_key</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">model_dir</span>, <span class="st">"pk-parameter-key-new.yaml"</span><span class="op">)</span></span>
<span><span class="co"># Model we're bootstrapping</span></span>
<span><span class="va">orig_mod</span> <span class="op">&lt;-</span> <span class="fu">bbr</span><span class="fu">::</span><span class="fu"><a href="https://metrumresearchgroup.github.io/bbr/reference/read_model.html" class="external-link">read_model</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">model_dir</span>, <span class="st">"106"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Bootstrap model object</span></span>
<span><span class="va">boot_run</span> <span class="op">&lt;-</span> <span class="fu">bbr</span><span class="fu">::</span><span class="fu"><a href="https://metrumresearchgroup.github.io/bbr/reference/read_model.html" class="external-link">read_model</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">model_dir</span>, <span class="st">"106-boot"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="parameter-key">Parameter key<a class="anchor" aria-label="anchor" href="#parameter-key"></a>
</h3>
<p>We begin by creating a parameter key that tells R how to interpret
your parameter values. Our code requires four arguments for each
parameter:</p>
<ul>
<li>abb - abbreviation for model parameter (we use latex coding)</li>
<li>desc - parameter description to appear</li>
<li>panel - the table panel the parameter should appear under</li>
<li>trans - definition of how the parameter should be transformed</li>
</ul>
<p>If you have a model that uses theta in the $ERROR block, make sure
the theta panel label is “RV” so the <code>pmparams</code> functions can
properly identify it.</p>
<p>We recommend using a parameter key yaml, but <code>pmparams</code>
works for parameter key tibbles.</p>
<p>A more detailed walk-through of generating the parameter key is
available here:
<a href="https://merge.metrumrg.com/expo/expo1-nonmem-foce/posts/parameter-key.html" target="_blank" class="external-link">
MeRGE Expo: Creating a Parameter Key </a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">param_key_lst</span> <span class="op">&lt;-</span> <span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/yaml.load.html" class="external-link">yaml.load_file</a></span><span class="op">(</span><span class="va">param_key</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">param_key_lst</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                             THETA1.abb                            THETA1.desc </span></span>
<span><span class="co">#&gt;                             "KA (1/h)" "First order absorption rate constant" </span></span>
<span><span class="co">#&gt;                           THETA1.panel                           THETA1.trans </span></span>
<span><span class="co">#&gt;                               "struct"                             "logTrans" </span></span>
<span><span class="co">#&gt;                             THETA2.abb                            THETA2.desc </span></span>
<span><span class="co">#&gt;                             "V2/F (L)"              "Apparent central volume"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="creating-a-parameter-table-bootstrap-estimates">Creating a parameter table bootstrap estimates<a class="anchor" aria-label="anchor" href="#creating-a-parameter-table-bootstrap-estimates"></a>
</h2>
<div class="section level3">
<h3 id="define-format-bootstrap-parameter-table">Define &amp; format bootstrap parameter table<a class="anchor" aria-label="anchor" href="#define-format-bootstrap-parameter-table"></a>
</h3>
<p>Parameter tables of bootstrap estimates are created by first passing
your bootstrap estimates to the <code>pmparams</code>
<code><a href="../reference/define_boot_table.html">define_boot_table()</a></code> function, which handles both the
joining and creation of new confidence interval related columns.</p>
<ul>
<li>Note: this uses <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">dplyr::inner_join</a></code>, so only parameters
included in the model output <em>and</em> parameter key will be kept in
the table. This was done so that if your base and final model used the
same structural THETAs and random parameters, the same parameter key
could be used for both. The additional covariate THETAs defined in the
parameter key YAML would simply be ignored when creating the base model
parameter table.</li>
</ul>
<p>Bootstrap runs can be performed directly in <code>bbr</code> (version
<code>1.11.0</code> or later), which tracks a bootstrap model object
(<code>boot_run</code>). Once executed, the
<code><a href="https://metrumresearchgroup.github.io/bbr/reference/summarize_bootstrap.html" class="external-link">bbr::bootstrap_estimates()</a></code> function can be used to easily
read those estimates into a data frame that you can subsequently pass to
the <code>pmparams</code> <code><a href="../reference/define_boot_table.html">define_boot_table()</a></code> function.</p>
<div class="section level4">
<h4 id="bootstrap-parameter-estimates-argument">Bootstrap parameter estimates argument<a class="anchor" aria-label="anchor" href="#bootstrap-parameter-estimates-argument"></a>
</h4>
<p>To support use cases outside of <code>bbr</code>, this function
allows you to pass in those bootstrap estimates in a couple of
formats:</p>
<ul>
<li>A <strong><em>path</em></strong> to a csv
(<code>file.path(model_dir, "boot/data/boot-106.csv")</code>)</li>
<li>A data.frame (like what’s returned from
<code><a href="https://metrumresearchgroup.github.io/bbr/reference/summarize_bootstrap.html" class="external-link">bbr::bootstrap_estimates()</a></code>)</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Also accepted</span></span>
<span> <span class="co"># boot_ests &lt;- file.path(model_dir, "boot/data/boot-106.csv")</span></span>
<span> <span class="co"># boot_ests &lt;- readr::read_csv(file.path(model_dir, "boot/data/boot-106.csv"))</span></span>
<span><span class="va">boot_ests</span> <span class="op">&lt;-</span> <span class="fu">bbr</span><span class="fu">::</span><span class="fu"><a href="https://metrumresearchgroup.github.io/bbr/reference/summarize_bootstrap.html" class="external-link">bootstrap_estimates</a></span><span class="op">(</span><span class="va">boot_run</span><span class="op">)</span></span>
<span></span>
<span><span class="va">boot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_boot_table.html">define_boot_table</a></span><span class="op">(</span></span>
<span>  .boot_estimates <span class="op">=</span> <span class="va">boot_ests</span>,</span>
<span>  .key <span class="op">=</span> <span class="va">param_key</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">boot_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 23</span></span></span>
<span><span class="co">#&gt;   parameter_names  lower  value  upper ci_level name   abb     desc  panel trans</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> THETA1           1.39   1.58   1.80        95 THETA1 KA (1/… Firs… stru… logT…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> THETA2          58.9   62.0   65.7         95 THETA2 V2/F (… Appa… stru… logT…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> THETA3           3.09   3.26   3.46        95 THETA3 CL/F (… Appa… stru… logT…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> THETA4          65.7   68.2   70.2         95 THETA4 V3/F (… Appa… stru… logT…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> THETA5           3.39   3.64   3.88        95 THETA5 Q/F (L… Appa… stru… logT…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> THETA6           0.403  0.483  0.568       95 THETA6 CL/F ~… eGFR… cov   none </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 13 more variables: transTHETA &lt;lgl&gt;, THETAERR &lt;lgl&gt;, TH &lt;lgl&gt;, OM &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   S &lt;lgl&gt;, LOG &lt;lgl&gt;, LOGIT &lt;lgl&gt;, lognormO &lt;lgl&gt;, Osd &lt;lgl&gt;, logitOsd &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   propErr &lt;lgl&gt;, addErr &lt;lgl&gt;, addErrLogDV &lt;lgl&gt;</span></span></span></code></pre></div>
<p>Now we perform some house-keeping based on the new parameter key
information and format the values for the report using
<code><a href="../reference/format_boot_table.html">format_boot_table()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">boot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_boot_table.html">format_boot_table</a></span><span class="op">(</span><span class="va">boot_df</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">boot_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   abb         desc                                  boot_value boot_ci_95  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> KA (1/h)    First order absorption rate constant  1.58       1.39, 1.80  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> V2/F (L)    Apparent central volume               62.0       58.9, 65.7  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> CL/F (L/h)  Apparent clearance                    3.26       3.09, 3.46  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> V3/F (L)    Apparent peripheral volume            68.2       65.7, 70.2  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Q/F (L/h)   Apparent intercompartmental clearance 3.64       3.39, 3.88  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> CL/F ~ eGFR eGFR effect on CL/F                   0.483      0.403, 0.568</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="combine-bootstrap-and-original-model-parameter-estimates">Combine bootstrap and original model parameter estimates<a class="anchor" aria-label="anchor" href="#combine-bootstrap-and-original-model-parameter-estimates"></a>
</h2>
<p>Start by creating a parameter table for your <em>original model</em>,
and then join it to the formatted bootstrap table (<code>boot_df</code>)
we created above:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">param_df</span> <span class="op">&lt;-</span> <span class="va">orig_mod</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/define_param_table.html">define_param_table</a></span><span class="op">(</span><span class="va">param_key</span>, .ci <span class="op">=</span> <span class="fl">95</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/format_param_table.html">format_param_table</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">boot_param_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">param_df</span>, <span class="va">boot_df</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"abb"</span>, <span class="st">"desc"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">boot_param_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 9</span></span></span>
<span><span class="co">#&gt;   type             abb   greek desc  value shrinkage ci_95 boot_value boot_ci_95</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;glu&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;glu&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Structural mode… KA (… $\ex… Firs… 1.57  -         1.38… 1.58       1.39, 1.80</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Structural mode… V2/F… $\ex… Appa… 62.1  -         58.8… 62.0       58.9, 65.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Structural mode… CL/F… $\ex… Appa… 3.26  -         3.08… 3.26       3.09, 3.46</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Structural mode… V3/F… $\ex… Appa… 68.1  -         65.6… 68.2       65.7, 70.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Structural mode… Q/F … $\ex… Appa… 3.63  -         3.39… 3.64       3.39, 3.88</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Covariate effec… CL/F… $\th… eGFR… 0.484 -         0.40… 0.483      0.403, 0.…</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define bootstrap CI footnote</span></span>
<span><span class="va">footBoot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boot_notes.html">boot_notes</a></span><span class="op">(</span>.ci <span class="op">=</span> <span class="fl">95</span>, .n_run <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">boot_ests</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Render table</span></span>
<span><span class="va">tab</span> <span class="op">&lt;-</span> <span class="va">boot_param_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/make_boot_pmtable.html">make_boot_pmtable</a></span><span class="op">(</span>.pmtype <span class="op">=</span> <span class="st">"fixed"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_align.html" class="external-link">st_center</a></span><span class="op">(</span>desc <span class="op">=</span> <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/col_fixed.html" class="external-link">col_ragged</a></span><span class="op">(</span><span class="fl">5.5</span><span class="op">)</span>, abb <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes.html" class="external-link">st_notes</a></span><span class="op">(</span><span class="fu"><a href="../reference/param_notes.html">param_notes</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">ci</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>                   <span class="co"># add abbreviations</span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes_str.html" class="external-link">st_notes_str</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>                               <span class="co"># collapse all abbreviations to a string                        </span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes.html" class="external-link">st_notes</a></span><span class="op">(</span><span class="fu"><a href="../reference/param_notes.html">param_notes</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">logTrans</span>, <span class="va">footBoot</span><span class="op">$</span><span class="va">boot_ci</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>   <span class="co"># customize other notes</span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes_detach.html" class="external-link">st_notes_detach</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_files.html" class="external-link">st_files</a></span><span class="op">(</span>output <span class="op">=</span> <span class="st">"final-param-fixed-boot.tex"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/stable.html" class="external-link">stable</a></span><span class="op">(</span>output_file <span class="op">=</span> <span class="st">"deliv/mod106-boot-95-ci-fixed.tex"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tab_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/stable_save_image.html" class="external-link">stable_save_image</a></span><span class="op">(</span><span class="va">tab</span>, format <span class="op">=</span> <span class="st">"png"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_image_show.html" class="external-link">st_image_show</a></span><span class="op">(</span><span class="va">tab_out</span>, width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></code></pre></div>
<p><img src="making-bootstrap-parameter-tables_files/figure-html/unnamed-chunk-8-1.png" width="520" style="display: block; margin: auto;"></p>
<div class="section level3">
<h3 id="complex-example">Complex example<a class="anchor" aria-label="anchor" href="#complex-example"></a>
</h3>
<p>To illustrate the flexibility of <code><a href="../reference/make_boot_pmtable.html">make_boot_pmtable()</a></code>,
we’ll use a more complex example where we include two confidence
intervals:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Two confidence intervals</span></span>
<span><span class="va">boot_df</span> <span class="op">&lt;-</span> <span class="va">boot_ests</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/define_boot_table.html">define_boot_table</a></span><span class="op">(</span><span class="va">param_key</span>, .ci <span class="op">=</span> <span class="fl">95</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/format_boot_table.html">format_boot_table</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">boot_df2</span> <span class="op">&lt;-</span> <span class="va">boot_ests</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/define_boot_table.html">define_boot_table</a></span><span class="op">(</span><span class="va">param_key</span>, .ci <span class="op">=</span> <span class="fl">90</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/format_boot_table.html">format_boot_table</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">boot_param_df</span> <span class="op">&lt;-</span> <span class="va">param_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">boot_df</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">boot_df2</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab</span> <span class="op">&lt;-</span> <span class="va">boot_param_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/make_boot_pmtable.html">make_boot_pmtable</a></span><span class="op">(</span>.pmtype <span class="op">=</span> <span class="st">"fixed"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_align.html" class="external-link">st_center</a></span><span class="op">(</span>desc <span class="op">=</span> <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/col_fixed.html" class="external-link">col_ragged</a></span><span class="op">(</span><span class="fl">5.5</span><span class="op">)</span>, abb <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes.html" class="external-link">st_notes</a></span><span class="op">(</span><span class="fu"><a href="../reference/param_notes.html">param_notes</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">ci</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>         <span class="co"># add abbreviations</span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes_str.html" class="external-link">st_notes_str</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>                     <span class="co"># collapse all abbreviations to a string                        </span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes.html" class="external-link">st_notes</a></span><span class="op">(</span><span class="fu"><a href="../reference/param_notes.html">param_notes</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">logTrans</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>   <span class="co"># customize other notes</span></span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_notes_detach.html" class="external-link">st_notes_detach</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_files.html" class="external-link">st_files</a></span><span class="op">(</span>output <span class="op">=</span> <span class="st">"final-param-fixed-boot-multi-ci.tex"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/stable.html" class="external-link">stable</a></span><span class="op">(</span>output_file <span class="op">=</span> <span class="st">"deliv/mod106-boot-95-90-ci-fixed.tex"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tab_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/stable_save_image.html" class="external-link">stable_save_image</a></span><span class="op">(</span><span class="va">tab</span>, format <span class="op">=</span> <span class="st">"png"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://metrumresearchgroup.github.io/pmtables/reference/st_image_show.html" class="external-link">st_image_show</a></span><span class="op">(</span><span class="va">tab_out</span>, width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></code></pre></div>
<p><img src="making-bootstrap-parameter-tables_files/figure-html/unnamed-chunk-11-1.png" width="607" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Katherine Kay, Michael McDermott, Eric Anderson, Grace O’Brien, Kyle Barrett.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
